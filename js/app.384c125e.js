(function(t){function e(e){for(var r,o,s=e[0],i=e[1],c=e[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);u&&u(e);while(p.length)p.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],r=!0,s=1;s<a.length;s++){var i=a[s];0!==n[i]&&(r=!1)}r&&(l.splice(e--,1),t=o(o.s=a[0]))}return t}var r={},n={app:0},l=[];function o(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=r,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(a,r,function(e){return t[e]}.bind(null,r));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=i;l.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0661":function(t,e,a){},"314e":function(t,e,a){"use strict";var r=a("9eb3"),n=a.n(r);n.a},"359c":function(t,e,a){},4002:function(t,e,a){"use strict";var r=a("fd46"),n=a.n(r);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=a("5c96"),l=a.n(n),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("Container")],1)},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("Header"),a("Main"),a("Footer")],1)},c=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-header",{staticClass:"header"},[t._v(" 高鐵購GO! ")])],1)},d=[],p={name:"header",components:{},data:function(){return{visible:!1}},mounted:function(){},computed:{},methods:{}},m=p,f=(a("8f01"),a("2877")),b=Object(f["a"])(m,u,d,!1,null,"16934d02",null),v=b.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("el-main",{staticClass:"main"},[a("Tab")],1)],1)},w=[],g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab"},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"開始"}},[a("Search")],1),a("el-tab-pane",{attrs:{label:"搭乘"}},[a("Clearance")],1),a("el-tab-pane",{attrs:{label:"搭乘結束"}},[a("Info")],1)],1)],1)},C=[],T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("el-row",[a("el-col",{attrs:{xs:12,md:24}},[a("div",{staticClass:"button-wrap"},[a("el-button",{staticClass:"button",on:{click:function(e){t.drawerTime=!0}}},[t._v("查時刻車次")]),a("el-drawer",{attrs:{title:"查時刻車次",visible:t.drawerTime,direction:"rtl",size:"100%"},on:{"update:visible":function(e){t.drawerTime=e},close:function(e){return t.resetForm("ruleForm")}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{xs:24,sm:10,md:5}},[a("div",[a("el-form-item",{staticClass:"col bg-purple",attrs:{prop:"from",required:""}},[a("el-select",{attrs:{placeholder:"出發站"},model:{value:t.ruleForm.from,callback:function(e){t.$set(t.ruleForm,"from",e)},expression:"ruleForm.from"}},[a("el-option",{attrs:{label:"南港",value:"0990"}}),a("el-option",{attrs:{label:"台北",value:"1000"}}),a("el-option",{attrs:{label:"板橋",value:"1010"}}),a("el-option",{attrs:{label:"桃園",value:"1020"}}),a("el-option",{attrs:{label:"新竹",value:"1030"}}),a("el-option",{attrs:{label:"苗栗",value:"1035"}}),a("el-option",{attrs:{label:"台中",value:"1040"}}),a("el-option",{attrs:{label:"彰化",value:"1043"}}),a("el-option",{attrs:{label:"雲林",value:"1047"}}),a("el-option",{attrs:{label:"嘉義",value:"1050"}}),a("el-option",{attrs:{label:"台南",value:"1060"}}),a("el-option",{attrs:{label:"左營",value:"1070"}})],1)],1)],1)]),a("el-col",{attrs:{xs:24,sm:10,md:5}},[a("div",{staticClass:"col bg-purple"},[a("el-form-item",{attrs:{prop:"to",required:""}},[a("el-select",{attrs:{placeholder:"到達站"},model:{value:t.ruleForm.to,callback:function(e){t.$set(t.ruleForm,"to",e)},expression:"ruleForm.to"}},[a("el-option",{attrs:{label:"南港",value:"0990"}}),a("el-option",{attrs:{label:"台北",value:"1000"}}),a("el-option",{attrs:{label:"板橋",value:"1010"}}),a("el-option",{attrs:{label:"桃園",value:"1020"}}),a("el-option",{attrs:{label:"新竹",value:"1030"}}),a("el-option",{attrs:{label:"苗栗",value:"1035"}}),a("el-option",{attrs:{label:"台中",value:"1040"}}),a("el-option",{attrs:{label:"彰化",value:"1043"}}),a("el-option",{attrs:{label:"雲林",value:"1047"}}),a("el-option",{attrs:{label:"嘉義",value:"1050"}}),a("el-option",{attrs:{label:"台南",value:"1060"}}),a("el-option",{attrs:{label:"左營",value:"1070"}})],1)],1)],1)]),a("el-col",{attrs:{xs:24,sm:4,md:2}},[a("div",{staticClass:"col bg-purple-light"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:t.changeFromTo}})],1)]),a("el-col",{attrs:{xs:24,sm:10,md:5}},[a("div",{staticClass:"col bg-purple"},[a("el-form-item",{attrs:{prop:"time"}},[a("el-time-picker",{attrs:{placeholder:"出發時間","picker-options":{selectableRange:"06:00:00 - 23:59:59"},"value-format":"HH:mm"},on:{change:t.setTimeFormat},model:{value:t.ruleForm.time,callback:function(e){t.$set(t.ruleForm,"time",e)},expression:"ruleForm.time"}})],1)],1)]),a("el-col",{attrs:{xs:24,sm:10,md:5}},[a("div",{staticClass:"col bg-purple-light"},[a("el-form-item",{attrs:{prop:"date"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"出發日期","value-format":"yyyy-MM-dd"},on:{change:t.setDateFormat},model:{value:t.ruleForm.date,callback:function(e){t.$set(t.ruleForm,"date",e)},expression:"ruleForm.date"}})],1)],1)]),a("el-col",{attrs:{xs:24,sm:4,md:2}},[a("div",{staticClass:"col bg-purple"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleSubmit}})],1)])],1)],1),t.filterData.length?a("Timetable",{attrs:{filterData:t.filterData},on:{click:t.handleSubmit,close:t.handleCloseDrawer}}):t._e()],1)],1)]),a("el-col",{attrs:{xs:12,md:24}},[a("div",{staticClass:"button-wrap"},[a("el-button",{staticClass:"button",on:{click:function(e){t.drawerSaved=!0}}},[t._v("暫存行程")]),a("el-drawer",{attrs:{title:"暫存行程",visible:t.drawerSaved,direction:"rtl",size:"100%"},on:{"update:visible":function(e){t.drawerSaved=e}}})],1)]),a("el-col",{attrs:{xs:12,md:24}},[a("div",{staticClass:"button-wrap"},[a("el-button",{staticClass:"button",attrs:{disabled:""},on:{click:function(e){t.drawerStation=!0}}},[t._v("查車站")]),a("el-drawer",{attrs:{title:"查車站",visible:t.drawerStation,direction:"rtl",size:"100%"},on:{"update:visible":function(e){t.drawerStation=e}}})],1)]),a("el-col",{attrs:{xs:12,md:24}},[a("div",{staticClass:"button-wrap"},[a("el-button",{staticClass:"button",attrs:{disabled:""},on:{click:function(e){t.drawerFare=!0}}},[t._v("查票價")]),a("el-drawer",{attrs:{title:"查票價",visible:t.drawerFare,direction:"rtl",size:"100%"},on:{"update:visible":function(e){t.drawerFare=e}}})],1)]),a("el-col",{attrs:{xs:24}},[a("div",{staticClass:"button-wrap"},[a("el-button",{staticClass:"button",attrs:{disabled:""},on:{click:function(e){t.drawerTicketing=!0}}},[t._v("購買車票")]),a("el-drawer",{attrs:{title:"購買車票",visible:t.drawerTicketing,direction:"rtl",size:"100%"},on:{"update:visible":function(e){t.drawerTicketing=e}}})],1)])],1)],1)},D=[],_=(a("4de4"),a("d81d"),a("a434"),a("ac1f"),a("1276"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"timetable"},[a("el-table",{attrs:{data:t.filterData,"highlight-current-row":"","default-sort":{prop:"DepTime"}},on:{"current-change":t.handleCurrentChange}},[a("el-table-column",{attrs:{prop:"TrainNo",label:"車次",sortable:"","min-width":"30"}}),a("el-table-column",{attrs:{prop:"DepTime",label:"出發時間",sortable:"","min-width":"50"}}),a("el-table-column",{attrs:{prop:"ArrTime",label:"到達時間",sortable:"","min-width":"50"}}),a("el-table-column",{attrs:{prop:"duration",label:"行車時間",sortable:"","min-width":"50"}})],1),a("el-row",[a("el-col",{attrs:{xs:12,md:12}},[a("div",{staticClass:"col bg-purple-light"},[a("el-button",{attrs:{type:"info",icon:"el-icon-collection-tag",plain:!0,disabled:t.disabledSaveButton},on:{click:t.handleSave}},[t._v("暫存")])],1)]),a("el-col",{attrs:{xs:12,md:12}},[a("div",{staticClass:"col bg-purple"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-bank-card",disabled:""}},[t._v("購票")])],1)])],1)],1)}),F=[],y=(a("07ac"),{name:"timetable",props:{filterData:Array},data:function(){return{currentRow:{},storageArray:[]}},computed:{disabledSaveButton:function(){return!Object.values(this.currentRow).length}},methods:{handleCurrentChange:function(t){this.currentRow=t},handleSave:function(){this.closeDrawerTime(),null===localStorage.getItem("savedData")?(this.storageArray=[this.currentRow],localStorage.setItem("savedData",JSON.stringify(this.storageArray))):(this.storageArray=JSON.parse(localStorage.getItem("savedData")),this.checkExist())},checkExist:function(){var t=this,e=this.storageArray.filter((function(e){return e.TrainNo===t.currentRow.TrainNo}));0==e.length&&this.update()},update:function(){this.storageArray.push(this.currentRow),localStorage.setItem("savedData",JSON.stringify(this.storageArray))},closeDrawerTime:function(){this.$message({message:"儲存成功，3秒後自動跳轉回首頁",type:"success"}),this.$emit("close")}}}),x=y,S=(a("8c87"),Object(f["a"])(x,_,F,!1,null,"13d20908",null)),k=S.exports,I=(a("99af"),a("bc3a")),O=a.n(I),A=function(t,e,a){return O()({methods:"GET",url:"https://ptx.transportdata.tw/MOTC/v2/Rail/THSR/DailyTimetable/OD/".concat(t,"/to/").concat(e,"/").concat(a,"?$format=JSON")})},j={name:"Search",components:{Timetable:k},data:function(){return{drawerTime:!1,drawerStation:!1,drawerFare:!1,drawerSaved:!1,drawerTicketing:!1,ruleForm:{from:"",to:"",time:"",date:""},rules:{from:[{required:!0,message:" ",trigger:"change"}],to:[{required:!0,message:" ",trigger:"change"}],time:[{required:!0,message:" "}],date:[{required:!0,message:" "}]},resData:[],newArray:[],filterData:[]}},mounted:function(){A(this.ruleForm.from,this.ruleForm.to,this.ruleForm.date)},computed:{},methods:{changeFromTo:function(){var t=this.ruleForm.to,e=this.ruleForm.from;this.ruleForm.from=t,this.ruleForm.to=e},setTimeFormat:function(t){this.ruleForm.time=t},handleSubmit:function(){this.submitForm("ruleForm"),this.fetchData()},setDateFormat:function(t){this.ruleForm.date=t},submitForm:function(t){this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1}))},fetchData:function(){var t=this;A(this.ruleForm.from,this.ruleForm.to,this.ruleForm.date).then((function(e){t.resData=e.data,t.getNewArray(),t.filterForm()}))},getNewArray:function(){this.newArray=this.resData.map((function(t){return{TrainDate:t.TrainDate,DepTime:t.OriginStopTime.DepartureTime,DepID:t.OriginStopTime.StationID,ArrTime:t.DestinationStopTime.ArrivalTime,ArrID:t.DestinationStopTime.StationID,TrainNo:t.DailyTrainInfo.TrainNo}}))},filterForm:function(){var t=this,e=this.newArray.filter((function(e){return e.DepTime>=t.ruleForm.time}));e.sort((function(t,e){var a=t.DepTime.toUpperCase(),r=e.DepTime.toUpperCase();return a<r?-1:a>r?1:0})),e.splice(5),this.spliceData=e,this.getDuration()},getDuration:function(){var t=this.spliceData[0],e=t["DepTime"],a=t["ArrTime"],r=e.split(":"),n=parseInt(60*r[0])+parseInt(r[1]),l=a.split(":"),o=parseInt(60*l[0])+parseInt(l[1]),s=o-n,i=Math.floor(s/60),c=s%60,u=String(i+"時"+c+"分");t["duration"]=u;var d=this.spliceData[1],p=d["DepTime"],m=d["ArrTime"],f=p.split(":"),b=parseInt(60*f[0])+parseInt(f[1]),v=m.split(":"),h=parseInt(60*v[0])+parseInt(v[1]),w=h-b,g=Math.floor(w/60),C=w%60,T=String(g+"時"+C+"分");d["duration"]=T;var D=this.spliceData[2],_=D["DepTime"],F=D["ArrTime"],y=_.split(":"),x=parseInt(60*y[0])+parseInt(y[1]),S=F.split(":"),k=parseInt(60*S[0])+parseInt(S[1]),I=k-x,O=Math.floor(I/60),A=I%60,j=String(O+"時"+A+"分");D["duration"]=j;var $=this.spliceData[3],M=$["DepTime"],E=$["ArrTime"],N=M.split(":"),R=parseInt(60*N[0])+parseInt(N[1]),P=E.split(":"),q=parseInt(60*P[0])+parseInt(P[1]),H=q-R,J=Math.floor(H/60),z=H%60,B=String(J+"時"+z+"分");$["duration"]=B;var G=this.spliceData[4],U=G["DepTime"],Y=G["ArrTime"],K=U.split(":"),L=parseInt(60*K[0])+parseInt(K[1]),Q=Y.split(":"),V=parseInt(60*Q[0])+parseInt(Q[1]),W=V-L,X=Math.floor(W/60),Z=W%60,tt=String(X+"時"+Z+"分");G["duration"]=tt,this.filterData=[t,d,D,$,G]},handleCloseDrawer:function(){var t=this;setTimeout((function(){t.drawerTime=!1}),3e3)},resetForm:function(t){this.$refs[t].resetFields(),this.resData=[],this.newArray=[],this.filterData=[]}}},$=j,M=(a("4002"),Object(f["a"])($,T,D,!1,null,"58bebe46",null)),E=M.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clearance"},[a("el-row",[a("el-col",{attrs:{xs:12,md:24}},[a("div",{staticClass:"button-wrap"},[a("el-button",{staticClass:"button",attrs:{disabled:""}},[t._v("取票")])],1)]),a("el-col",{attrs:{xs:12,md:24}},[a("div",{staticClass:"button-wrap"},[a("el-button",{staticClass:"button",attrs:{disabled:""}},[t._v("傳送取票序號")])],1)]),a("el-col",{attrs:{xs:12,md:24}},[a("div",{staticClass:"button-wrap"},[a("el-button",{staticClass:"button",attrs:{disabled:""}},[t._v("乘車驗票")])],1)]),a("el-col",{attrs:{xs:12,md:24}},[a("div",{staticClass:"button-wrap"},[a("el-button",{staticClass:"button",attrs:{disabled:""}},[t._v("設定到站提醒")])],1)])],1)],1)},R=[],P={name:"Clearance",components:{},data:function(){},mounted:function(){},computed:{},methods:{}},q=P,H=(a("c857"),Object(f["a"])(q,N,R,!1,null,"14876433",null)),J=H.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info"},[a("el-row",[a("el-col",{attrs:{xs:12,md:24}},[a("div",{staticClass:"button-wrap"},[a("el-button",{staticClass:"button",attrs:{disabled:""}},[t._v("查快捷公車")])],1)]),a("el-col",{attrs:{xs:12,md:24}},[a("div",{staticClass:"button-wrap"},[a("el-button",{staticClass:"button",attrs:{disabled:""}},[t._v("查轉乘資訊")])],1)]),a("el-col",{attrs:{xs:12,md:24}},[a("div",{staticClass:"button-wrap"},[a("el-button",{staticClass:"button",attrs:{disabled:""}},[t._v("查搭乘記錄")])],1)]),a("el-col",{attrs:{xs:12,md:24}},[a("div",{staticClass:"button-wrap"},[a("el-button",{staticClass:"button",attrs:{disabled:""}},[t._v("申請乘車證明")])],1)]),a("el-col",{attrs:{xs:24}},[a("div",{staticClass:"button-wrap"},[a("el-button",{staticClass:"button",attrs:{disabled:""}},[t._v("設定常用行程")])],1)])],1)],1)},B=[],G={name:"Info",components:{},data:function(){},mounted:function(){},computed:{},methods:{}},U=G,Y=(a("c093"),Object(f["a"])(U,z,B,!1,null,"3e8e8650",null)),K=Y.exports,L={name:"tab",components:{Search:E,Clearance:J,Info:K},data:function(){},mounted:function(){},computed:{},methods:{}},Q=L,V=Object(f["a"])(Q,g,C,!1,null,"1c44bdac",null),W=V.exports,X={name:"main",components:{Tab:W},data:function(){},mounted:function(){},computed:{},methods:{}},Z=X,tt=Object(f["a"])(Z,h,w,!1,null,"681e87ff",null),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-footer",{staticClass:"footer"},[a("div",{staticClass:"link"},[a("a",{attrs:{href:"https://www.facebook.com/thsrco",title:"Facebook",target:"_blank"}},[t._v("粉絲專頁")]),a("span",[t._v("/")]),a("a",{attrs:{href:"https://www.youtube.com/user/THSRFan",title:"YouTube",target:"_blank"}},[t._v("YouTube")]),a("span",[t._v("/")]),a("a",{attrs:{href:"#",title:"CakeResume",target:"_blank"}},[t._v("關於作者")])])])],1)},rt=[],nt={name:"footer",components:{},data:function(){},mounted:function(){},computed:{},methods:{}},lt=nt,ot=(a("dfb5"),Object(f["a"])(lt,at,rt,!1,null,"fac05c98",null)),st=ot.exports,it={name:"container",components:{Header:v,Main:et,Footer:st},data:function(){},mounted:function(){},computed:{},methods:{}},ct=it,ut=(a("314e"),Object(f["a"])(ct,i,c,!1,null,null,null)),dt=ut.exports,pt={name:"App",components:{Container:dt}},mt=pt,ft=(a("5c0b"),Object(f["a"])(mt,o,s,!1,null,null,null)),bt=ft.exports;a("944d");r["default"].config.productionTip=!1,r["default"].use(l.a),new r["default"]({render:function(t){return t(bt)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var r=a("9c0c"),n=a.n(r);n.a},"8c87":function(t,e,a){"use strict";var r=a("a634"),n=a.n(r);n.a},"8f01":function(t,e,a){"use strict";var r=a("0661"),n=a.n(r);n.a},"944d":function(t,e,a){},"9c0c":function(t,e,a){},"9eb3":function(t,e,a){},a634:function(t,e,a){},c093:function(t,e,a){"use strict";var r=a("359c"),n=a.n(r);n.a},c857:function(t,e,a){"use strict";var r=a("d8fd"),n=a.n(r);n.a},d8fd:function(t,e,a){},dfb5:function(t,e,a){"use strict";var r=a("e62a"),n=a.n(r);n.a},e62a:function(t,e,a){},fd46:function(t,e,a){}});
//# sourceMappingURL=app.384c125e.js.map